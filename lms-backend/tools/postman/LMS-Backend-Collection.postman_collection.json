{
  "info": {
    "_postman_id": "lms-backend-local-collection",
    "name": "LMS Backend - Local",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Postman collection for LMS backend (local). Contains endpoints and test scripts that save returned IDs and JWT."
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:8080" },
    { "key": "jwt", "value": "" },
    { "key": "courseId", "value": "" },
    { "key": "quizId", "value": "" },
    { "key": "purchaseId", "value": "" },
    { "key": "subscriptionId", "value": "" },
    { "key": "forumPostId", "value": "" },
    { "key": "notificationId", "value": "" },
    { "key": "userId", "value": "" },
    { "key": "educatorId", "value": "educator123" }
  ],
  "item": [
    {
      "name": "Health - GET /api/health",
      "request": {
        "method": "GET",
        "header": [],
        "url": { "raw": "{{baseUrl}}/api/health", "host": ["{{baseUrl}}"], "path": ["api","health"] }
      }
    },
    {
      "name": "Auth - Register",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": { "mode": "raw", "raw": "{\n  \"name\": \"Alice\",\n  \"email\": \"alice+local@example.com\",\n  \"password\": \"password123\",\n  \"role\": \"STUDENT\"\n}" },
        "url": { "raw": "{{baseUrl}}/api/auth/register", "host": ["{{baseUrl}}"], "path": ["api","auth","register"] }
      }
    },
    {
      "name": "Auth - Login (save token)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "const json = pm.response.json();",
              "if (json && json.token) { pm.collectionVariables.set('jwt', json.token); pm.test('Saved jwt', () => pm.expect(json.token).to.be.a('string')); }"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "body": { "mode": "raw", "raw": "{\n  \"email\": \"alice+local@example.com\",\n  \"password\": \"password123\"\n}" },
        "url": { "raw": "{{baseUrl}}/api/auth/login", "host": ["{{baseUrl}}"], "path": ["api","auth","login"] }
      }
    },
    {
      "name": "Courses - GET /api/courses",
      "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/courses", "host": ["{{baseUrl}}"], "path": ["api","courses"] } }
    },
    {
      "name": "Course - POST /api/courses (create)",
      "event": [ { "listen": "test", "script": { "exec": [ "const json = pm.response.json(); if (json && json.id) { pm.collectionVariables.set('courseId', json.id); pm.test('Saved courseId', () => pm.expect(json.id).to.be.a('string')); }" ], "type": "text/javascript" } } ],
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{jwt}}" }],
        "body": { "mode": "raw", "raw": "{\n  \"title\": \"Intro to Postman\",\n  \"description\": \"A sample course created from Postman\",\n  \"educatorId\": \"{{educatorId}}\",\n  \"enrolledUserIds\": [],\n  \"price\": 0.0,\n  \"isPaid\": false\n}" },
        "url": { "raw": "{{baseUrl}}/api/courses", "host": ["{{baseUrl}}"], "path": ["api","courses"] }
      }
    },
    {
      "name": "Course - GET /api/courses/{{courseId}}",
      "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/courses/{{courseId}}", "host": ["{{baseUrl}}"], "path": ["api","courses","{{courseId}}"] } }
    },
    {
      "name": "Course - DELETE /api/courses/{{courseId}}",
      "request": { "method": "DELETE", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/courses/{{courseId}}", "host": ["{{baseUrl}}"], "path": ["api","courses","{{courseId}}"] } }
    },
    {
      "name": "Purchases - GET /api/purchases",
      "request": { "method": "GET", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/purchases", "host": ["{{baseUrl}}"], "path": ["api","purchases"] } }
    },
    {
      "name": "Purchase - POST /api/purchases (create)",
      "event": [ { "listen": "test", "script": { "exec": [ "const json = pm.response.json(); if (json && json.id) { pm.collectionVariables.set('purchaseId', json.id); pm.test('Saved purchaseId', () => pm.expect(json.id).to.be.a('string')); }" ], "type": "text/javascript" } } ],
      "request": { "method": "POST", "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{jwt}}" }], "body": { "mode": "raw", "raw": "{\n  \"userId\": \"user123\",\n  \"courseId\": \"{{courseId}}\",\n  \"purchaseDate\": \"2025-10-17T00:00:00Z\",\n  \"amount\": 49.99\n}" }, "url": { "raw": "{{baseUrl}}/api/purchases", "host": ["{{baseUrl}}"], "path": ["api","purchases"] } }
    },
    {
      "name": "Purchase - DELETE /api/purchases/{{purchaseId}}",
      "request": { "method": "DELETE", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/purchases/{{purchaseId}}", "host": ["{{baseUrl}}"], "path": ["api","purchases","{{purchaseId}}"] } }
    },
    {
      "name": "Quizzes - GET /api/quizzes/course/{{courseId}}",
      "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/quizzes/course/{{courseId}}", "host": ["{{baseUrl}}"], "path": ["api","quizzes","course","{{courseId}}"] } }
    },
    {
      "name": "Quiz - POST /api/quizzes (create)",
      "event": [ { "listen": "test", "script": { "exec": [ "const json = pm.response.json(); if (json && json.id) { pm.collectionVariables.set('quizId', json.id); pm.test('Saved quizId', () => pm.expect(json.id).to.be.a('string')); }" ], "type": "text/javascript" } } ],
      "request": { "method": "POST", "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{jwt}}" }], "body": { "mode": "raw", "raw": "{\n  \"courseId\": \"{{courseId}}\",\n  \"title\": \"Sample Quiz\",\n  \"published\": false,\n  \"questions\": [\n    {\n      \"id\": \"q1\",\n      \"text\": \"What is 2+2?\",\n      \"options\": [\"1\",\"2\",\"3\",\"4\"],\n      \"correctOptionIndex\": 3\n    }\n  ]\n}" }, "url": { "raw": "{{baseUrl}}/api/quizzes", "host": ["{{baseUrl}}"], "path": ["api","quizzes"] } }
    },
    {
      "name": "Quiz - GET /api/quizzes/{{quizId}}",
      "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/quizzes/{{quizId}}", "host": ["{{baseUrl}}"], "path": ["api","quizzes","{{quizId}}"] } }
    },
    {
      "name": "Quiz - PUT /api/quizzes/{{quizId}}",
      "request": { "method": "PUT", "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{jwt}}" }], "body": { "mode": "raw", "raw": "{\n  \"courseId\": \"{{courseId}}\",\n  \"title\": \"Sample Quiz (updated)\",\n  \"published\": true,\n  \"questions\": []\n}" }, "url": { "raw": "{{baseUrl}}/api/quizzes/{{quizId}}", "host": ["{{baseUrl}}"], "path": ["api","quizzes","{{quizId}}"] } }
    },
    {
      "name": "Quiz - DELETE /api/quizzes/{{quizId}}",
      "request": { "method": "DELETE", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/quizzes/{{quizId}}", "host": ["{{baseUrl}}"], "path": ["api","quizzes","{{quizId}}"] } }
    },
    {
      "name": "Forum - GET /api/forums/course/{{courseId}}",
      "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/forums/course/{{courseId}}", "host": ["{{baseUrl}}"], "path": ["api","forums","course","{{courseId}}"] } }
    },
    {
      "name": "Forum - POST /api/forums (create)",
      "event": [ { "listen": "test", "script": { "exec": [ "const json = pm.response.json(); if (json && json.id) { pm.collectionVariables.set('forumPostId', json.id); pm.test('Saved forumPostId', () => pm.expect(json.id).to.be.a('string')); }" ], "type": "text/javascript" } } ],
      "request": { "method": "POST", "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{jwt}}" }], "body": { "mode": "raw", "raw": "{\n  \"courseId\": \"{{courseId}}\",\n  \"userId\": \"{{userId}}\",\n  \"title\": \"Discussion: Postman Testing\",\n  \"content\": \"This is a test forum post created from Postman.\"\n}" }, "url": { "raw": "{{baseUrl}}/api/forums", "host": ["{{baseUrl}}"], "path": ["api","forums"] } }
    },
    {
      "name": "Forum - POST reply /api/forums/{{forumPostId}}/replies",
      "request": { "method": "POST", "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{jwt}}" }], "body": { "mode": "raw", "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"content\": \"A reply created from Postman.\"\n}" }, "url": { "raw": "{{baseUrl}}/api/forums/{{forumPostId}}/replies", "host": ["{{baseUrl}}"], "path": ["api","forums","{{forumPostId}}","replies"] } }
    },
    {
      "name": "Notifications - GET /api/notifications/user/{{userId}}",
      "request": { "method": "GET", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/notifications/user/{{userId}}", "host": ["{{baseUrl}}"], "path": ["api","notifications","user","{{userId}}"] } }
    },
    {
      "name": "Notification - POST /api/notifications (create)",
      "event": [ { "listen": "test", "script": { "exec": [ "const json = pm.response.json(); if (json && json.id) { pm.collectionVariables.set('notificationId', json.id); pm.test('Saved notificationId', () => pm.expect(json.id).to.be.a('string')); }" ], "type": "text/javascript" } } ],
      "request": { "method": "POST", "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{jwt}}" }], "body": { "mode": "raw", "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"title\": \"Welcome\",\n  \"message\": \"Welcome to the course!\"\n}" }, "url": { "raw": "{{baseUrl}}/api/notifications", "host": ["{{baseUrl}}"], "path": ["api","notifications"] } }
    },
    {
      "name": "Notification - POST /api/notifications/email (send)",
      "request": { "method": "POST", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/notifications/email?toEmail=test@example.com&subject=Hello&body=Test+message", "host": ["{{baseUrl}}"], "path": ["api","notifications","email"], "query": [{ "key": "toEmail", "value": "test@example.com" }, { "key": "subject", "value": "Hello" }, { "key": "body", "value": "Test message" }] } }
    },
    {
      "name": "Analytics - GET /api/analytics/dashboard",
      "request": { "method": "GET", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/analytics/dashboard", "host": ["{{baseUrl}}"], "path": ["api","analytics","dashboard"] } }
    },
    {
      "name": "Analytics - GET /api/analytics/revenue",
      "request": { "method": "GET", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/analytics/revenue", "host": ["{{baseUrl}}"], "path": ["api","analytics","revenue"] } }
    },
    {
      "name": "Payment Analytics - GET /api/admin/payments/analytics",
      "request": { "method": "GET", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/admin/payments/analytics", "host": ["{{baseUrl}}"], "path": ["api","admin","payments","analytics"] } }
    },
    {
      "name": "Report - GET /api/admin/report/download",
      "request": { "method": "GET", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/admin/report/download", "host": ["{{baseUrl}}"], "path": ["api","admin","report","download"] } }
    },
    {
      "name": "Leaderboard - GET /api/leaderboards/top-scores",
      "request": { "method": "GET", "header": [], "url": { "raw": "{{baseUrl}}/api/leaderboards/top-scores", "host": ["{{baseUrl}}"], "path": ["api","leaderboards","top-scores"] } }
    },
    {
      "name": "Subscriptions - GET /api/subscriptions",
      "request": { "method": "GET", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/subscriptions", "host": ["{{baseUrl}}"], "path": ["api","subscriptions"] } }
    },
    {
      "name": "Subscription - POST /api/subscriptions (create)",
      "event": [ { "listen": "test", "script": { "exec": [ "const json = pm.response.json(); if (json && json.id) { pm.collectionVariables.set('subscriptionId', json.id); pm.test('Saved subscriptionId', () => pm.expect(json.id).to.be.a('string')); }" ], "type": "text/javascript" } } ],
      "request": { "method": "POST", "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{jwt}}" }], "body": { "mode": "raw", "raw": "{\n  \"userId\": \"user123\",\n  \"planId\": \"plan_basic\",\n  \"startDate\": \"2025-10-17T00:00:00Z\",\n  \"endDate\": \"2026-10-17T00:00:00Z\",\n  \"active\": true\n}" }, "url": { "raw": "{{baseUrl}}/api/subscriptions", "host": ["{{baseUrl}}"], "path": ["api","subscriptions"] } }
    },
    {
      "name": "Users - GET /api/users",
      "request": { "method": "GET", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/users", "host": ["{{baseUrl}}"], "path": ["api","users"] } }
    },
    {
      "name": "User - POST /api/users (create)",
      "event": [ { "listen": "test", "script": { "exec": [ "const json = pm.response.json(); if (json && json.id) { pm.collectionVariables.set('userId', json.id); pm.test('Saved userId', () => pm.expect(json.id).to.be.a('string')); }" ], "type": "text/javascript" } } ],
      "request": { "method": "POST", "header": [{ "key": "Content-Type", "value": "application/json" }], "body": { "mode": "raw", "raw": "{\n  \"name\": \"Bob\",\n  \"email\": \"bob+local@example.com\",\n  \"password\": \"pass123\",\n  \"role\": \"STUDENT\"\n}" }, "url": { "raw": "{{baseUrl}}/api/users", "host": ["{{baseUrl}}"], "path": ["api","users"] } }
    },
    {
      "name": "User - GET /api/users/{{userId}}",
      "request": { "method": "GET", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/users/{{userId}}", "host": ["{{baseUrl}}"], "path": ["api","users","{{userId}}"] } }
    },
    {
      "name": "User - DELETE /api/users/{{userId}}",
      "request": { "method": "DELETE", "header": [{ "key": "Authorization", "value": "Bearer {{jwt}}" }], "url": { "raw": "{{baseUrl}}/api/users/{{userId}}", "host": ["{{baseUrl}}"], "path": ["api","users","{{userId}}"] } }
    }
  ]
}
